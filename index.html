<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rodent Riddle</title>
    <link rel="stylesheet" href="style.css">
    <script src="main.js" type="module"></script>
    <script>
        function toggleAnswer(button) {
            const answer = button.nextElementSibling;
            if (answer.style.display === 'none') {
                answer.style.display = 'block';
                button.textContent = 'Hide our suggested answer';
            } else {
                answer.style.display = 'none';
                button.textContent = 'Show our suggested answer';
            }
        }
    </script>
</head>
<body>
    <h1>Rodent Riddle</h1>
    

    <!-- Circadian Rhythm -->
    <h2>Circadian Rhythm</h2>
    <p class="viz-instructions">
        This visualization shows mouse movement patterns and body temperature over multiple day/night cycles. The main plot (left) displays mouse positions and their movement (more active movement represent higher activity levels), while the right plot shows the relationship between temperature and activity levels. The color of each point represents the body temperature of the mouse.
    </p>
    <ul class="viz-features">
        <li><strong>Mouse Movement:</strong> Each point represents a mouse, with colors indicating body temperature (blue: cooler, red: warmer).</li>
        <li><strong>Day/Night Cycles:</strong> Background changes indicate light conditions, with the status shown in the top-right corner.</li>
        <li><strong>Interactive Features:</strong>
            <ul>
                <li>Hover over any point to see detailed mouse data and highlight the same mouse in both plots</li>
                <li>Hover pauses the animation automatically</li>
                <li>Use the time slider to navigate through the data</li>
                <li>Play/Pause and Reset buttons control the animation</li>
            </ul>
        </li>
        <li><strong>Temperature Scale:</strong> The color bar below the main plot shows the temperature range from 35°C (blue) to 39°C (red).</li>
    </ul>
    <div id="circadian-viz">
        <!-- Visualization will be dynamically added here (circadian.js) -->    
    </div>
    <p class="viz-questions">
        <strong>Question to consider:</strong> How do the activity patterns of these mice across day and night cycles reveal their natural circadian rhythm?
    </p>
    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show our suggested answer</button>
    <p class="viz-answer" style="display: none;">
        <strong>Our suggested answer:</strong> The visualization reveals clear circadian patterns in mouse behavior. During light-off periods (night), mice consistently show heightened activity levels, coupled with elevated body temperatures (shown by warmer colors). Conversely, during light-on periods (day), their activity decreases significantly, and body temperatures tend to be cooler. This day-night activity pattern strongly indicates nocturnal behavior, which is an evolutionary adaptation common in rodents. The synchronization between activity levels and body temperature also demonstrates how circadian rhythms coordinate multiple physiological processes to optimize survival during their most active periods.
    </p>

    
    <!-- Other Visualizations (Use the same template) -->
    <h2>Effect of Estrus</h2>
    <p class="viz-instructions">
        This visualization shows the difference of body temperature and activity level of female mice depending on the period. The line chart shows the average body temperature of 12 female mice. Hovering shows the activity level of each time.
    </p>
    <ul class="viz-features">
    <li><strong>Mouse Temperature:</strong> Each line represents average mouse temperature change in one day of each period.<br>(red: estrus day, blue: 1day before estrus day, green: 1day after estrus day, purple: 2day after estrus day)</li>
        <li><strong>Day/Night Cycles:</strong> Background changes indicate light conditions.</li>
        <li><strong>Interactive Features:</strong>
            <ul>
                <li>Hover over any point to see detailed mouse activity data of the point</li>
                <li>Activity data is sorted by descending order</li>
            </ul>
        </li>
        <li><strong>Data Sorting:</strong> Each line is an average temperature of 12 female mice on designated days as following.<br>
        Estrus Day: Average of Day2, Day6, Day10, and Day14<br> 1day Before Estrus Day: Average of Day1, Day5, Day9, and Day13<br> 1day After Estrus Day: Average of Day3, Day7, Day11<br> 2day After Estrus Day: Average of Day4, Day8, Day12</li>
    <div id="other-viz">
        <!-- Visualization will be dynamically added here (other-file.js) -->    
    </div>
    <p class="viz-questions">
        <strong>Question to consider:</strong> How do estrus cycle effect on the female mouce body temperature and activity level?
    </p>
    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show our suggested answer</button>
    <p class="viz-answer" style="display: none;">
        <strong>Our suggested answer:</strong> The visualization reveals that estrus affects mouce temperature starting from around 4hours(240 minutes) later after light is turned off(night starts) and ends around 5hours(300 minutes) later after light is turned on(day starts). During that period, average temperature is 0.6°C higher than that in other period at maximum, which is quite large considering that mice is homeotherm. Regarding activity level, estrus activates as well but affected duration is a little different from the case of body temperature. Around the same time body temperature increases, activity level also increases but it ends around 1hour later light is turned on(day starts), which ends earlier than body temperature increasing. Hence we can say that estrus let female mice move a lot to find male mice to breed which is one factor that increase body temperature. In addition, the level of estrogen increases significantly. This leads to the stimulation of the hypothalamus and thermoregulatory centers, which can raise the set point for body temperature and Increasing basal metabolic rate (BMR), resulting in more internal heat production.
        Other than estrus day, we can see the mice one day before estrus day has high body temperature and activity level compared to others. It is because female mice start to prepare for the estrus. As we can see estrus increases mouce body temperature and activity level highest on the day but starting one day before that as well.
    </p>

    <!-- Other Visualizations (Use the same template) -->
    <h2>Other Visualizations ...</h2>
    <p class="viz-instructions"></p>
    <ul class="viz-features"></ul>
    <div id="other-viz">
        <!-- Visualization will be dynamically added here (other-file.js) -->    
    </div>
    <p class="viz-questions"></p>
    <button class="show-answer-btn" onclick="toggleAnswer(this)">Show our suggested answer</button>
    <p class="viz-answer" style="display: none;">
        <strong>Our suggested answer:</strong> 
    </p>
<hr>
<h2>Initial Prototype Writeup</h2>
<div class="reflection-box">
<p>
    So far, we have created our central visualization and have laid out the template for any additional visualizations. The central visualization is an overview of most of the features all at once. It aims to show viewers the general heat and activity trends of mice throughout each period of day and night. Smaller future visualizations will focus on more specific aspects of the dataset. By creating visualization and suggested response templates, additional work for the project will be streamlined. Our process is to add in a short visualization to guide viewers through the interactive visualization, add a d3 plot, ask viewers an insightful question, and to answer their question using the drop-down suggested answer component. Using this format, our project can meet its original goal of teaching researchers about their mice in an engaging way, but can also be used to teach people (especially children) how to gain insight from a graph or visualization.
</p>
<p>
    The most challenging part of the project remaining is to curate a few more visualizations that feel fresh and interactive. Our dataset is limited in its number of features (we can explore activity, temperature, gender, and estrus cycles), and so we'll need to work to create visualizations that add insight without feeling redundant. Our second challenge will be to come up with critical engagement questions that strike a balance between being too technical and boringly simple. A mix of difficulties will be beneficial, and our target is for the level of engagement to be at the point to make an older kid think for a few minutes and require most viewers to take a second look at the visualization before answering. These questions give us the most opportunity to ensure that scientists aren't missing interesting details and to promote learning for the rest of our audience, so it's important that we get their level of difficulty right.
</p>
</div>

</body>
</html>
